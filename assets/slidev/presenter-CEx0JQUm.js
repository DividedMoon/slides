import{_ as Z,a as J,b as Y,c as ee,d as te}from"../modules/unplugin-icons-BaoYVvhx.js";import{t as V,d as B,c as b,i as f,H as t,o as i,y as v,b as k,e,l as r,F as q,x as $,g as P,Z as se,a1 as oe,a2 as le,h as z,p as j,a as A,D as Q,Q as ne,_ as ae,N as re,a3 as ie,a4 as ce,k as N,a5 as ue}from"../modules/vue-BLmQdX0u.js";import{g as de,_ as R,C as pe,u as me,d as ve,e as _e,c as fe,s as xe}from"../index-ck-gFd08.js";import{r as be,u as ke,S as G,Q as ge,a as ye,N as he,G as Ce}from"./SlidesShow-DJQv_fle.js";import{s as we,a as M,p as Se,b as Ne,i as $e,d as Pe}from"./index-C9yiuOZM.js";import{c as ze,r as De,a as O}from"../monaco/bundled-types-B35DGJl9.js";import{S as Ie,g as Fe}from"./bottom-BSmK_Nrh.js";import{N as Te}from"./NoteDisplay-BvRC9nlo.js";import Me from"./DrawingControls-DE8G8rZw.js";import{I as W}from"./IconButton-BGKVCOzs.js";import{u as Ve}from"./DrawingPreview-BZqtZ2p7.js";import"../modules/shiki-vbwtq7uO.js";import"../modules/file-saver-DY7lxZlc.js";import"./title-renderer-Dn1DzpXx.js";import"./context-RYO-iHHz.js";function qe(a){var l;return{info:V((l=de(a))==null?void 0:l.meta.slide),update:async()=>{}}}const Be=B({__name:"NoteStatic",props:{no:{type:Number,required:!0},class:{type:String,required:!1},clicksContext:{type:null,required:!1}},setup(a){const l=a,{info:s}=qe(l.no);return(u,c)=>{var o,x;return i(),b(Te,{class:f(l.class),note:(o=t(s))==null?void 0:o.note,"note-html":(x=t(s))==null?void 0:x.noteHTML,"clicks-context":u.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Re=R(Be,[["__file","C:/Users/yidia/Desktop/preparedppt/PreparedPPT/node_modules/@slidev/client/internals/NoteStatic.vue"]]),E=a=>(j("data-v-52a29648"),a=a(),A(),a),Ue=["title"],Le={class:"flex gap-0.5 items-center min-w-16 font-mono mr1"},He=E(()=>e("div",{"flex-auto":""},null,-1)),Qe={"text-primary":""},Ge=E(()=>e("span",{op25:""},"/",-1)),Oe={op50:""},We=["min","max"],je=B({__name:"ClicksSlider",props:{clicksContext:{type:null,required:!0}},setup(a){const l=a,s=v(()=>l.clicksContext.total),u=v(()=>ze(0,l.clicksContext.clicksStart,s.value)),c=v(()=>s.value-u.value+1),o=v({get(){return l.clicksContext.current>s.value?-1:l.clicksContext.current},set(g){l.clicksContext.current=g}}),x=v(()=>De(u.value,s.value+1));function D(){(o.value<0||o.value>s.value)&&(o.value=0)}return(g,d)=>{const I=Z;return i(),k("div",{class:f(["flex gap-1 items-center select-none",c.value?"":"op50"]),title:`Clicks in this slide: ${c.value}`},[e("div",Le,[r(I,{"text-sm":"",op50:""}),He,o.value>=0&&o.value!==t(pe)?(i(),k(q,{key:0},[e("span",Qe,$(o.value),1),Ge],64)):P("v-if",!0),e("span",Oe,$(s.value),1)]),e("div",{relative:"","flex-auto":"",h5:"","font-mono":"",flex:"~",onDblclick:d[2]||(d[2]=n=>o.value=g.clicksContext.total)},[(i(!0),k(q,null,se(x.value,n=>(i(),k("div",{key:n,border:"y main","of-hidden":"",relative:"",class:f([n===0?"rounded-l border-l":"",n===s.value?"rounded-r border-r":""]),style:z({width:c.value>0?`${1/c.value*100}%`:"100%"})},[e("div",{absolute:"","inset-0":"",class:f(n<=o.value?"bg-primary op15":"")},null,2),e("div",{class:f([+n==+o.value?"text-primary font-bold op100 border-primary":"op30 border-main",n===0?"rounded-l":"",n===s.value?"rounded-r":"border-r-2"]),"w-full":"","h-full":"","text-xs":"",flex:"","items-center":"","justify-center":"","z-1":""},$(n),3)],6))),128)),oe(e("input",{"onUpdate:modelValue":d[0]||(d[0]=n=>o.value=n),class:"range",absolute:"","inset-0":"",type:"range",min:u.value,max:s.value,step:1,"z-10":"",op0:"",style:z({"--thumb-width":`${1/(c.value+1)*100}%`}),onMousedown:D,onFocus:d[1]||(d[1]=n=>{var C;return(C=n.currentTarget)==null?void 0:C.blur()})},null,44,We),[[le,o.value]])],32)],10,Ue)}}}),Ae=R(je,[["__scopeId","data-v-52a29648"],["__file","C:/Users/yidia/Desktop/preparedppt/PreparedPPT/node_modules/@slidev/client/internals/ClicksSlider.vue"]]),U=a=>(j("data-v-d0ba6bbb"),a=a(),A(),a),Ee={class:"bg-main h-full slidev-presenter"},Ke=U(()=>e("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),Xe={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Ze=U(()=>e("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),Je={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},Ye={class:"border-t border-main py-1 px-2 text-sm"},et={class:"grid-section bottom flex"},tt=U(()=>e("div",{"flex-auto":""},null,-1)),st={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},ot={class:"progress-bar"},lt=B({__name:"presenter",setup(a){const l=V();be(),ke(l);const{clicksContext:s,currentSlideNo:u,currentSlideRoute:c,hasNext:o,nextRoute:x,slides:D,queryClicks:g,getPrimaryClicks:d,total:I}=me(),{isDrawing:n}=Ve(),C=O.titleTemplate.replace("%s",O.title||"Slidev");ve({title:`Presenter - ${C}`}),V(!1);const{timer:K,resetTimer:L}=_e(),X=v(()=>D.value.map(S=>fe(S))),p=v(()=>s.value.current<s.value.total?[c.value,s.value.current+1]:o.value?[x.value,0]:null),w=v(()=>p.value&&X.value[p.value[0].no-1]);return Q([c,g],()=>{w.value&&(w.value.current=p.value[1])},{immediate:!0}),ne(),ae(()=>{const S=l.value.querySelector("#slide-content"),_=re(ie()),F=ce();Q(()=>{if(!F.value||n.value||!we.value)return;const m=S.getBoundingClientRect(),y=(_.x-m.left)/m.width*100,h=(_.y-m.top)/m.height*100;if(!(y<0||y>100||h<0||h>100))return{x:y,y:h}},m=>{xe.cursor=m})}),(S,_)=>{var H;const F=J,m=Y,y=ee,h=te;return i(),k(q,null,[e("div",Ee,[e("div",{class:f(["grid-container",`layout${t(Se)}`])},[e("div",{ref_key:"main",ref:l,class:"relative grid-section main flex flex-col"},[r(G,{key:"main",class:"h-full w-full p-2 lg:p-4 flex-auto"},{default:N(()=>[r(ye,{"render-context":"presenter"})]),_:1}),(i(),b(Ae,{key:(H=t(c))==null?void 0:H.no,"clicks-context":t(d)(t(c)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),Ke],512),e("div",Xe,[p.value&&w.value?(i(),b(G,{key:"next",class:"h-full w-full"},{default:N(()=>[(i(),b(Ie,{is:p.value[0].component,key:p.value[0].no,"clicks-context":w.value,class:f(t(Fe)(p.value[0])),route:p.value[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):P("v-if",!0),Ze]),P(" Notes "),(i(),k("div",Je,[(i(),b(Re,{key:`static-${t(u)}`,no:t(u),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:z({fontSize:`${t(Ne)}em`}),"clicks-context":t(s)},null,8,["no","style","clicks-context"])),e("div",Ye,[r(W,{title:"Increase font size",onClick:t($e)},{default:N(()=>[r(F)]),_:1},8,["onClick"]),r(W,{title:"Decrease font size",onClick:t(Pe)},{default:N(()=>[r(m)]),_:1},8,["onClick"]),P("v-if",!0)])])),e("div",et,[r(he,{persist:!0}),tt,e("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:_[2]||(_[2]=(...T)=>t(L)&&t(L)(...T))},[r(y,{class:"absolute"}),r(h,{class:"absolute opacity-0"})]),e("div",st,$(t(K)),1)]),(i(),b(Me,{key:2}))],2),e("div",ot,[e("div",{class:"progress h-3px bg-primary transition-all",style:z({width:`${(t(u)-1)/(t(I)-1)*100}%`})},null,4)])]),r(Ce),r(ge,{modelValue:t(M),"onUpdate:modelValue":_[3]||(_[3]=T=>ue(M)?M.value=T:null)},null,8,["modelValue"])],64)}}}),gt=R(lt,[["__scopeId","data-v-d0ba6bbb"],["__file","C:/Users/yidia/Desktop/preparedppt/PreparedPPT/node_modules/@slidev/client/pages/presenter.vue"]]);export{gt as default};
